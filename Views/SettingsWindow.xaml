<Window x:Class="Kiosk.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Настройки"
        Height="600"
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0"
                   Text="Настройки приложения"
                   FontSize="18"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,20"/>

        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      PanningMode="VerticalOnly"
                      Padding="0,0,5,0">
            <StackPanel>
                <GroupBox Header="Путь к файлу расписания" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBox x:Name="SchedulePathTextBox"
                                 Margin="0,5"
                                 MinHeight="35"
                                 FontSize="14"/>
                        <Button Content="Выбрать файл..."
                                Click="BrowsePathButton_Click"
                                Margin="0,5"
                                MinHeight="40"
                                FontSize="14"
                                Padding="10,8"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Ссылка на сайт с картой" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBox x:Name="MapUrl"
                                 Margin="0,5"
                                 MinHeight="35"
                                 FontSize="14"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Ссылка для новостей" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBox x:Name="NewsUrl"
                                 Margin="0,5"
                                 MinHeight="35"
                                 FontSize="14"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Безопасность" Margin="0,0,0,15">
                    <StackPanel>
                        <Button Content="Сменить пароль администратора"
                                Click="ChangePasswordButton_Click"
                                Margin="0,5"
                                MinHeight="40"
                                FontSize="14"
                                Padding="10,8"/>
                        <CheckBox x:Name="ShowKeyboardCheckBox"
                                  Content="Показывать экранную клавиатуру для ввода пароля"
                                  Margin="0,5"
                                  FontSize="14"
                                  MinHeight="30"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Файл замен" Margin="0,15,0,15">
                    <StackPanel>
                        <TextBlock Text="Путь к файлу замен (.docx):" 
                                   Margin="0,0,0,5"
                                   FontSize="14"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="ReplacementsPathTextBox"
                                     FontSize="14"
                                     Margin="0,0,10,0"
                                     MinHeight="35"/>
                            <Button Grid.Column="1" 
                                    Content="Обзор..." 
                                    Background="#2c5f9e"
                                    Foreground="White"
                                    FontSize="14"
                                    Click="BrowseReplacementsPath_Click"
                                    Padding="15,8"
                                    MinHeight="35"
                                    MinWidth="80"/>
                        </Grid>
                        <TextBlock Text="Файл замен должен быть в формате DOCX и обновляться ежедневно"
                                   FontSize="11"
                                   Foreground="#6c757d"
                                   TextWrapping="Wrap"
                                   Margin="0,5,0,0"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Баннеры (экран заставки)" Margin="0,15,0,15">
                    <StackPanel>
                        <CheckBox x:Name="EnableBannersCheckBox"
                                  Content="Включить режим баннеров"
                                  Margin="0,5"
                                  FontSize="14"
                                  MinHeight="30"
                                  Checked="EnableBannersCheckBox_Changed"
                                  Unchecked="EnableBannersCheckBox_Changed"/>

                        <TextBlock Text="Файлы баннеров (.png, разделенные ;):" 
                                   Margin="0,10,0,5"
                                   FontSize="14"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="BannerPathsTextBox"
                                     FontSize="14"
                                     Margin="0,0,10,0"
                                     MinHeight="35"/>
                            <Button Grid.Column="1" 
                                    Content="Обзор..." 
                                    Background="#2c5f9e"
                                    Foreground="White"
                                    FontSize="14"
                                    Click="BrowseBannerPaths_Click"
                                    Padding="15,8"
                                    MinHeight="35"
                                    MinWidth="80"/>
                        </Grid>

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,10,0,5">
                            <TextBlock Text="Время до показа баннеров (сек):"
                                       VerticalAlignment="Center"
                                       Margin="0,0,10,0"
                                       FontSize="14"/>
                            <TextBox x:Name="BannerTimeoutTextBox"
                                     Width="80"
                                     MinHeight="35"
                                     Text="30"
                                     FontSize="14"
                                     VerticalContentAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                            <TextBlock Text="Время переключения баннеров (сек):"
                                       VerticalAlignment="Center"
                                       Margin="0,0,10,0"
                                       FontSize="14"/>
                            <TextBox x:Name="BannerSwitchIntervalTextBox"
                                     Width="80"
                                     MinHeight="35"
                                     Text="5"
                                     FontSize="14"
                                     VerticalContentAlignment="Center"/>
                        </StackPanel>

                        <TextBlock Text="Укажите пути к PNG файлам через точку с запятой или используйте кнопку 'Обзор'"
                                   FontSize="11"
                                   Foreground="#6c757d"
                                   TextWrapping="Wrap"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Автообновление">
                    <StackPanel>
                        <CheckBox x:Name="AutoRefreshCheckBox"
                                  Content="Автоматически обновлять расписание"
                                  Margin="0,5"
                                  FontSize="14"
                                  MinHeight="30"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Text="Интервал (секунды):"
                                       VerticalAlignment="Center"
                                       Margin="0,0,10,0"
                                       FontSize="14"/>
                            <TextBox x:Name="RefreshIntervalTextBox"
                                     Width="80"
                                     MinHeight="35"
                                     Text="300"
                                     FontSize="14"
                                     VerticalContentAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="Сохранить"
                    Width="100"
                    Height="40"
                    Margin="0,0,10,0"
                    Click="SaveButton_Click"
                    FontSize="14"
                    Padding="10,8"/>
            <Button Content="Отмена"
                    Width="100"
                    Height="40"
                    Click="CancelButton_Click"
                    FontSize="14"
                    Padding="10,8"/>
        </StackPanel>
    </Grid>
</Window>